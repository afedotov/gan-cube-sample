import{a as Ae}from"./inside-KOB7JHHP-MQbaLpa6.js";import"../search-worker-entry-CQUcisg8.js";function S(e){if(e<2)return e;let r=1;for(let t=2;t<=e;t++)r*=t;return r}function Z(e,r){if(r<0||r>e)return 0;if(r===0||r===e)return 1;let t=1;for(let n=0;n<r;n++)t=t*(e-n)/(n+1)|0;return t}function xe(e,r,t,n,a=e-r-t-n){return Z(e,r+t)*Z(r+t,r)*Z(n+a,n)}function Qe(e){e=e.slice();let r=e.length,t=S(r-1),n=0;for(;r>1;){r--;let a=e[0];n+=a*t;for(let l=0;l<r;l++){let i=e[l+1];e[l]=i-(i>a)}t/=r}return n}function Ve(e){let r=e.length,t=0;for(let n=0;n<r-1;n++)for(let a=n;a<r;a++)e[n]>e[a]&&(t^=1);return t}function ie(e,r){let t=[],n=S(r-1)/2,a=0;for(let l=0;l<r-1;l++)t[l]=e/n|0,e%=n,n/=r-1-l;t[r-1]=0;for(let l=r-2;l>=0;l--)for(let i=l+1;i<r;i++)t[i]>=t[l]?t[i]++:a^=1;return a===1&&([t[r-2],t[r-1]]=[t[r-1],t[r-2]]),t}function R(e){return Qe(e)>>1}(()=>{let e=new Int8Array(2048),r=new Int8Array(256*8);for(let a=0;a<256;a++)for(let l=0,i=0;l<8;l++)a>>>l&1&&(e[l<<8|a]=i,r[i<<8|a]=l,i++);function t(a){let l=255,i=2520,_=0;for(let o=0;o<6;o++){let c=a[o];_+=e[l|c<<8]*i,l&=~(1<<c),i/=7-o}return _}function n(a,l){let i=255,_=2520,o=0;for(let c=0;c<6;c++){let p=a/_|0;a-=p*_,o^=p&1;let f=r[i|p<<8];l[c]=f,i&=~(1<<f),_/=7-c}return l[6]=r[i|o<<8],l[7]=r[i|(o^1)<<8],l}return[t,n]})();function ne(e){let r=[0];for(let t=1;t<e;t++){let n=Ae(t+1);r[t]=r[n],r[n]=t}return r}function me(e){let r=ne(e);return Ve(r)===1&&([r[0],r[1]]=[r[1],r[0]]),r}function We(e){return e|=0,31-Math.clz32(e^e-1)}var q={};function ge(e,r){e|=0,r|=0;let t=`${e} ${r}`;if(q[t])return q[t];let n=Z(e,r),a=new Uint32Array(n),l=new Uint32Array(1<<e).fill(-1);for(let i=0,_=(1<<r)-1;i<n;i++){a[i]=_,l[_]=i;let o=_|_-1;_=o+1|(~o&-~o)-1>>We(_)+1}return q[t]=[a,l]}function Ye(e){e|=0;let r=0;for(;e!==0;)e&=e-1,r++;return r}function de(e){return e&=65535,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,e}function qe(e,r){return de(e)|de(r)<<1}var k={};function $(e,r,t,n,a){if(e|=0,r|=0,t|=0,n|=0,a|=0,e!==r+t+n+a)throw new Error("generate_comb4_lookup_tables: invalid parameters");let l=[e,r,t,n,a].join(" ");if(k[l])return k[l];let[i,_]=ge(e,t+a),[o,c]=ge(e,n+a),p=xe(e,r,t,n,a),f=new Uint32Array(p),u=new Uint32Array(4**e).fill(-1);for(let s=0,h=0;s<o.length;s++){let g=o[s];for(let d=0;d<i.length;d++){let v=i[d];if(Ye(v&g)===a){let y=qe(v,g);f[h]=y,u[y]=h,h++}}}return k[l]=[f,u]}function w(e,r){let t=[];for(let n=0;n<r.length;n++)t[n]=e[r[n]];return t}function H(e,r,t){let n=[];for(let a=0;a<t.length;a++)n[a]=e[r[t[a]]];return n}function oe(e,r){let t=[];for(let n=0;n<r;n++)t[n]=n;for(let n of e)for(let a=0;a<n.length;a++)t[n[a]]=n[(a+1)%n.length];return t}function j(e,r){let t=e.length,n=Array(t).fill(0);for(let i=1;i<t;i++)n[i]=n[i-1]+r[i-1];let a=n[t-1]+r[t-1],l=Array(a);for(let i=0;i<t;i++)r[i]&&(l[n[i]]=n[e[i]]);return l}function _e(e){let r=e.length,t=Array(r);for(let n=0;n<r;n++)t[e[n]]=n;return t}function ke(e,r){for(;e&&r;)[e,r]=[r%e,e];return Math.abs(e+r)}function et(e,r){return e*r/ke(e,r)}function tt(e){let r=1,t=e.length,n=Array(t).fill(!1),a=-1;for(;a=n.indexOf(!1,a+1),a!==-1;){let l=0,i=a;for(;!n[i];)n[i]=!0,i=e[i],l++;r=et(r,l)}return r}var X=Array(72).fill().map((e,r)=>r/9|0),z=oe([[0,4,8],[1,6,3],[2,5,7],[9,22,35],[45,67,44],[47,68,43],[46,69,39],[50,70,38],[49,71,36]],72),rt=w(z,z),x=Array(72).fill().map((e,r)=>(r/18|0)*18+(r+9)%18);Array(72).fill().map((e,r)=>(r/36|0)*36+(r+18)%36);var G=Array(72).fill().map((e,r)=>(r+36)%72),Be=H(G,rt,G),nt=H(x,z,x),lt=H(x,Be,x),at=oe([[10,24,30],[11,23,34],[12,19,33],[42,48,64],[41,52,65],[37,51,66]],72),J=w(z,at),it=w(J,J),Ue=H(G,it,G),ot=H(x,J,x),_t=H(x,Ue,x),A=Array(72).fill().map((e,r)=>r/9|0),L=[[0,45,9,36],[4,67,22,49],[8,44,35,71],[13,58,31,40],[17,53,26,62],[18,63,27,54]],F=[[1,46],[3,39],[6,69],[10,37],[33,42],[12,48],[15,60],[24,51],[19,64],[28,55],[30,66],[21,57]],I=Array(12).fill().map((e,r)=>(r/3|0)*9+[2,5,7][r%3]),C=I.map(e=>e+36);function ct(e,r){for(let t=0;t<6;t++){if(e===A[L[t][0]]&&r===A[L[t][2]])return[t,0];if(e===A[L[t][2]]&&r===A[L[t][0]])return[t,1]}throw new Error("unknown corner piece")}function ft(e,r){for(let t=0;t<12;t++)if(e===A[F[t][0]]&&r===A[F[t][1]]||r===A[F[t][0]]&&e===A[F[t][1]])return t;throw new Error("unknown edge piece")}function ce(e,r){return ct(e[L[r][0]],e[L[r][2]])}function V(e,r){return ft(e[F[r][0]],e[F[r][1]])}function ut(e,r,t,n){let a=L[r],l=L[t].map(i=>A[i]);n%2!==0&&(l=[l[2],l[3],l[0],l[1]]);for(let i=0;i<4;i++)e[a[i]]=l[i]}function st(e,r,t){let n=F[r],a=F[t].map(l=>A[l]);for(let l=0;l<2;l++)e[n[l]]=a[l]}function Le(e){let r=e.map(o=>A[o]),n=Array(6).fill().map((o,c)=>ce(r,c)).map(([o,c])=>o+6*c),a=n.concat(n.map(o=>(o+6)%12)),l=Array(12).fill().map((o,c)=>V(r,c)),i=Array(12).fill().map((o,c)=>I.indexOf(e[I[c]])),_=Array(12).fill().map((o,c)=>C.indexOf(e[C[c]]));return{cp:a,ep:l,ap:i,bp:_}}var Fe=[z,Be,nt,lt,J,Ue,ot,_t],pt=["U","L","F","R","u","l","f","r"],N=Fe.map(Le);function ht(){let e=Array(72),r=me(5);r.push(5);let t=Array(4).fill().map(i=>Ae(2));t.push(t.reduce((i,_)=>i^_)),t.push(0);for(let i=0;i<6;i++)ut(e,i,r[i],t[i]);let n=me(12);for(let i=0;i<12;i++)st(e,i,n[i]);let a=ne(12).map(i=>i/3|0),l=ne(12).map(i=>4+(i/3|0));for(let i=0;i<12;i++)e[I[i]]=a[i],e[C[i]]=l[i];return e}function Oe(e,r=!1){if(r){e=e.map(g=>g.slice());let s=[0,1,2,3,4,5,6,7],h=[[0,3,5,6,4,7,1,2],[7,1,0,6,3,5,4,2],[7,4,2,1,3,0,6,5],[2,4,5,3,6,0,1,7]];h=h.concat(h.map(g=>_e(g)));for(let g=0;g<e.length;g++)if(e[g][0]<4)e[g][0]=s[e[g][0]];else{let d=s[e[g][0]],v=e[g][1];e[g][0]=d,s=w(v===1?h[d^4]:h[d],s)}}let t=r?"U L F R D BR B BL".split(" "):pt,n=["0","","'"];return e.map(([l,i])=>t[l]+n[i]).join(" ")}function O(e,r){for(let[t,n]of r)for(let a=0;a<n;a++)e=w(e,Fe[t]);return e}function Re(e){return e.map(([r,t])=>[r,(3-t)%3]).reverse()}function K(e,r=!1){if(e.length===0)return[];let t=[],n;for(let[a,l]of e)n&&n[0]===a?(n[1]+=l,n[1]%=3,n[1]===0&&(t.pop(),n=t.length===0?void 0:t[t.length-1])):t.length>=2&&(n[0]^a)===4&&t[t.length-2][0]===a?(t[t.length-2][1]+=l,t[t.length-2][1]%=3,t[t.length-2][1]===0&&t.splice(t.length-2,1)):(n=[a,l],t.push(n));return r&&`${e}`!=`${t}`&&console.log(`simplified ${e} to ${t}`),t}function mt(){return Oe(Re(vt(ht(),!0)),!0)}function E(e,r,t,n,a,l){let i=xe(e,r,t,n,a),_=l.length,[o,c]=$(e,r,t,n,a),p=Array(_).fill().map(()=>new Uint32Array(i));for(let f=0;f<i;f++){let u=o[f],s=Array(e);for(let h=0;h<e;h++)s[h]=u>>2*h&3;for(let h=0;h<_;h++){let d=w(s,l[h]).reduce((v,y,b)=>v|y<<2*b,0);p[h][f]=c[d]}}return p}function je(e){let r=e[0].length,t=e.length,n=Array(t).fill().map(()=>new Uint32Array(r));for(let a=0;a<r;a++)for(let l=0;l<t;l++)n[l][e[l][a]]=a;return n}function M(e,r){let t=e[0].length,n=r[0].length,a=e.length,l=Array(a).fill().map(()=>new Uint32Array(t*n));for(let i=0;i<n;i++)for(let _=0;_<t;_++){let o=_+t*i;for(let c=0;c<a;c++)l[c][o]=e[c][_]+t*r[c][i]}return l}function gt(e,r){let t=e.length,n=e[0].length,a=new Uint8Array(n);a[r]=1;let l=!1;for(;!l;){l=!0;for(let _=0;_<n;_++)if(a[_])for(let o=0;o<t;o++)a[e[o][_]]||(a[e[o][_]]=1,l=!1)}let i=new Int32Array(n).fill(-1);for(let _=0,o=0;_<n;_++)a[_]&&(i[_]=o,o++);return[e.map(_=>j(_,a)),i]}function dt(e,r){let t=e.length,n=e[0].length,a=new Int32Array(n).fill(-1);r.forEach(o=>{a[o]=0});let l=[r];for(let o=0;o<l.length;o++){let c=l[o];for(let p=0;p<t;p++){let f=e[p][c[0]];if(a[f]!==-1)continue;let u=c.map(h=>e[p][h]),s=l.length;l.push(u);for(let h of u){if(a[h]!==-1)throw new Error("quotienting failed");a[h]=s}}}let i=l.length,_=Array(t).fill().map(()=>new Int32Array(i));for(let o=0;o<t;o++)for(let c=0;c<i;c++)_[o][c]=a[e[o][l[c][0]]];return[_,a]}function Ie(e,r,t){let n=e[0].length,a=e.length,l=new Int32Array(n).fill(-1);l[r]=t,l[t]=r;let i=!1;for(;!i;){i=!0;for(let _=0;_<n;_++){if(l[_]===-1)continue;let o=l[_];for(let c=0;c<a;c++){let p=c^1,f=e[c][_],u=e[p][e[p][o]];if(l[f]===-1)i=!1,l[f]=u,l[u]=f;else if(l[f]!==u)throw new Error("mirroring failed - is the initial map correct?")}}}return l}function Ne(e,r){let t=e[0].length,n=e.length,a=new Int8Array(t).fill(-1);for(let _ of r)a[_]=0;let l=0,i=!1;for(;!i;){i=!0;for(let _=0;_<t;_++)if(a[_]===l)for(let o=0;o<n;o++){let c=e[o][_];for(;c!==_;)a[c]===-1&&(i=!1,a[c]=l+1),c=e[o][c]}l++}return a}function vt(e,r=!1){let t=xt(e).next().value,n=O(e,t),a=(r?Ht:$t)(n),l=K(t.concat(a),!1);return O(e,l).join("")!==X.join("")&&(console.log("solving failed!"),console.log(e),console.log(t),console.log(n),console.log(a),console.log(O(e,l))),l}var m={},B={},wt=[0,0,2,3,0,0,2,3];function yt(e){let[r,t]=$(12,6,0,3,3),n=Array(12).fill().map((_,o)=>V(e,o)),a=n.indexOf(8)+12*n.indexOf(9)+12**2*n.indexOf(10)+12**3*n.indexOf(11),[l,i]=[I,C].map(_=>{let o=_.map(c=>wt[e[c]]);return t[o.reduce((c,p,f)=>c|p<<2*f,0)]});return[a,l,i]}function Me(){if(m.phase1_edge)return m.phase1_edge;let e=je(N.map(n=>n.ep)),r=M(e,e),t=M(r,r);return m.phase1_edge=t}function bt(){return B.phase1_edge?B.phase1_edge:B.phase1_edge=Ne(Me(),[8+12*9+12**2*10+12**3*11])}function At(){return m.phase1_centreA?m.phase1_centreA:m.phase1_centreA=E(12,6,0,3,3,N.map(e=>e.ap))}function De(){return m.phase1_centreB?m.phase1_centreB:m.phase1_centreB=E(12,6,0,3,3,N.map(e=>e.bp))}function ve(){if(B.phase1_centre)return B.phase1_centre;let[e,r]=$(12,6,0,3,3),t=e.filter(n=>{let a=n>>12&3,l=n>>18&3;return a===2&&l===3}).map(n=>r[n]);return B.phase1_centre=Ne(De(),t)}function*xt(e){let r=[Me(),At(),De()],t=[bt(),ve(),ve()];yield*Bt(yt(e),r,t,15)}function*Bt(e,r,t,n){let a=e.length,l=0;for(let i=0;i<a;i++)l=Math.max(l,t[i][e[i]]);for(;l<=n;)yield*Ce(e,r,t,l,-1),l++}function*Ce(e,r,t,n,a){let l=8,i=Math.max(t[0][e[0]],t[1][e[1]],t[2][e[2]]);if(!(i>n)){if(n===0){yield[];return}if(!(i===0&&n===1))for(let _=0;_<l;_++){if(_===a||_===a-4)continue;let o=[];o[0]=r[0][_][e[0]],o[1]=r[1][_][e[1]],o[2]=r[2][_][e[2]];let c=1;for(;e.some((p,f)=>e[f]!==o[f]);){let p=Ce(o,r,t,n-1,_);for(;;){let{value:f,done:u}=p.next();if(u)break;yield[[_,c]].concat(f)}o[0]=r[0][_][o[0]],o[1]=r[1][_][o[1]],o[2]=r[2][_][o[2]],c++}}}}var Ut=[0,1,2,0,0,1,2,0],Lt=[0,1,2,3,4,5,7,8,10,11],we=[!0,!0,!0,!0,!0,!0,!1,!0,!0,!1,!0,!0];function fe(e){let[r,t]=$(10,5,3,2,0),n=Array(8).fill().map((u,s)=>V(e,s)),a=n.indexOf(5)+8*n.indexOf(6)+8**2*n.indexOf(7),l=Array(5).fill().map((u,s)=>ce(e,s)),i=_e(l.map(([u,s])=>u+5*s).concat(l.map(([u,s])=>u+5*(s^1)))),_=i.slice(0,5).map(u=>u%5),o=i.slice(0,5).map(u=>u/5|0),c=R(_)*8+(o[0]^o[2])+2*(o[0]^o[3])+4*o[4],[p,f]=[I,C].map(u=>{let s=w(u,Lt).map(h=>Ut[e[h]]);return t[s.reduce((h,g,d)=>h|g<<2*d,0)]});return $e(),Se(),[p,f,ze[c]+40*Te[a]]}function*P(e){yield*It(fe(e),30)}function Ee(){if(m.phase2_centre)return m.phase2_centre;let e=E(10,5,3,2,0,N.slice(0,4).map(t=>j(t.ap,we))),r=E(10,5,3,2,0,N.slice(0,4).map(t=>j(t.bp,we)));return m.phase2_centre=[e,r]}var Te;function $e(){if(m.phase2_edge)return m.phase2_edge;let e=je(N.slice(0,4).map(n=>n.ep.slice(0,8))),r=M(e,M(e,e)),t;return[t,Te]=gt(r,501),m.phase2_edge=t}function He(){if(m.phase2_corner)return m.phase2_corner;const r=S(5)/2*8,t=[!0,!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!1];let n=Array(4).fill().map(()=>new Uint32Array(r)),a=N.slice(0,4).map(l=>_e(j(l.cp,t)));for(let l=0;l<r;l++){let i=ie(l>>3,5),_=[0,0,l&1,l>>1&1,l>>2&1];_[1]=_[2]^_[3]^_[4];let o=Array(10);for(let c=0;c<5;c++)o[c]=i[c]+5*_[c],o[c+5]=i[c]+5*(_[c]^1);for(let c=0;c<4;c++){let p=w(a[c],o),f=p.slice(0,5).map(h=>h%5),u=p.slice(0,5).map(h=>h/5|0),s=(u[0]^u[2])+2*(u[0]^u[3])+4*u[4];n[c][l]=R(f)*8+s}}return m.phase2_corner=n}var ze;function Se(){return m.phase2_corner_compact||([m.phase2_corner_compact,ze]=dt(He(),Rt())),m.phase2_corner_compact}function ue(){if(m.phase2_ce)return m.phase2_ce;let e=Se(),r=$e();return m.phase2_ce=M(e,r)}var ee;function Ft(){if(ee)return ee;const e=fe(X)[2];return ee=Ie(ue(),e,e)}function Ot(){let[e,r]=$(10,5,3,2,0);return e.filter(t=>(t>>10&63)===41).map(t=>r[t])}function Rt(){let e=He(),r=e[0].length,t=Array(r).fill(!1);t[0]=!0;let n=!1;for(;!n;){n=!0;for(let a=0;a<r;a++)t[a]&&(t[e[0][a]]||(n=!1,t[e[0][a]]=!0),t[e[1][a]]||(n=!1,t[e[1][a]]=!0))}return t.map((a,l)=>l).filter(a=>t[a])}function jt(){if(B.phase2_ace)return B.phase2_ace;const[e,r]=Ee(),t=ue(),n=2520,a=40*336,l=n*a,i=fe(X)[2],_=9;let o=new Int8Array(l).fill(_);for(let c of Ot())o[c+n*i]=0;for(let c=0;c<_-1;c++)for(let p=o.indexOf(c);p!==-1;p=o.indexOf(c,p+1)){let f=p%n,u=p/n|0;for(let s=0;s<4;s++){let h=e[s][f],g=t[s][u],d=h+n*g;o[d]===_&&(o[d]=c+1),h=e[s][h],g=t[s][g],d=h+n*g,o[d]===_&&(o[d]=c+1)}}return B.phase2_ace=o}function*It(e,r){let[t,n]=Ee(),a=ue(),l=jt(),i=Ft(),[_,o,c]=e,p=i[c],f=Math.max(l[_+2520*c],l[o+2520*p]);for(;f<=r;)yield*Xe(_,o,c,t,n,a,l,i,f,-1),f++}function*Xe(e,r,t,n,a,l,i,_,o,c){let p=Math.max(i[e+2520*t],i[r+2520*_[t]]);if(!(p>o)){if(o===0){yield[];return}else if(p===0)return;for(let f=0;f<4;f++){if(f===c)continue;let u=e,s=r,h=t;for(let g=1;g<=2;g++){u=n[f][u],s=a[f][s],h=l[f][h];let d=Xe(u,s,h,n,a,l,i,_,o-1,f);for(;;){let{value:v,done:y}=d.next();if(y)break;yield[[f,g]].concat(v)}}}}}var Nt=[0,1,2,3,4,10,11],ye=[!0,!0,!0,!0,!0,!1,!1,!1,!1,!1,!0,!0],U=[[[0,1]],[[1,1]],[[2,1],[0,1],[3,1],[0,2],[3,2],[2,2]],[[3,2],[1,2],[2,2],[1,1],[2,1],[3,1]],[[6,1],[0,1],[3,1],[0,2],[3,2],[6,2]],[[7,2],[1,2],[2,2],[1,1],[2,1],[7,1]],[[2,1],[0,1],[2,2],[0,1],[2,1],[0,1],[2,2]],[[3,2],[1,1],[3,1],[1,1],[3,2],[1,1],[3,1]],[[2,1],[3,1],[2,2],[1,2],[0,2],[2,1],[3,1],[2,2]],[[3,2],[2,2],[3,1],[0,1],[1,1],[3,2],[2,2],[3,1]],[[6,1],[0,1],[6,2],[0,2],[1,2],[6,1],[0,1],[6,2]],[[7,2],[1,2],[7,1],[1,1],[0,1],[7,2],[1,2],[7,1]],[[2,1],[3,2],[2,2],[3,1],[0,1],[2,2],[1,1],[2,1]],[[3,2],[2,1],[3,1],[2,2],[1,2],[3,1],[0,2],[3,2]],[[6,1],[0,2],[6,2],[7,1],[6,1],[1,2],[7,1],[6,1]],[[7,2],[1,1],[7,1],[6,2],[7,2],[0,1],[6,2],[7,2]],[[2,2],[1,2],[2,2],[3,2],[2,2],[3,2],[0,2],[3,2]],[[6,2],[7,2],[1,2],[0,2],[1,2],[0,2],[6,2],[7,2]]];U=U.concat(U.map(e=>Re(e)));var T=U.length,Ze=U.map(e=>O(oe([],72),e)),Q=Ze.map(Le),Mt=Ze.map(tt);function W(e){let[r,t]=$(7,3,2,0,2),n=Array(5).fill().map((c,p)=>V(e,p)),a=R(n),l=Array(4).fill().map((c,p)=>ce(e,p)),i=R(l.map(c=>c[0]))*2+l.find(c=>c[0]===0)[1],[_,o]=[I,C].map(c=>{let p=w(c,Nt).map(f=>e[f]%4);return t[p.reduce((f,u,s)=>f|u<<2*s,0)]});return[_+210*o,i+24*a]}function Dt(){if(m.phase3_2gen_edge)return m.phase3_2gen_edge;const e=S(5)/2;let r=Array(T).fill().map(()=>new Uint32Array(e)),t=Q.map(n=>n.ep.slice(0,5));for(let n=0;n<e;n++){let a=ie(n,5);for(let l=0;l<T;l++)r[l][n]=R(w(a,t[l]))}return m.phase3_2gen_edge=r}function Ct(){if(m.phase3_2gen_corner)return m.phase3_2gen_corner;const r=S(4)/2*2,t=[!0,!0,!0,!0,!1,!1,!0,!0,!0,!0,!1,!1];let n=Array(T).fill().map(()=>new Uint32Array(r)),a=Q.map(l=>j(l.cp,t).slice(0,4));for(let l=0;l<r;l+=2){let i=ie(l>>1,4),_=i.concat(i.map(o=>o+4));for(let o=0;o<T;o++){let c=w(_,a[o]),p=c.map(u=>u%4),f=c.find(u=>u%4===0)>>2;n[o][l]=R(p)*2+f,n[o][l+1]=R(p)*2+(f^1)}}return m.phase3_2gen_corner=n}function Y(){return m.phase3_2gen_corneredge?m.phase3_2gen_corneredge:m.phase3_2gen_corneredge=M(Ct(),Dt())}function se(){if(m.phase3_2gen_centre)return m.phase3_2gen_centre;let e=E(7,3,2,0,2,Q.map(t=>j(t.ap,ye))),r=E(7,3,2,0,2,Q.map(t=>j(t.bp,ye)));return m.phase3_2gen_centreA=e,m.phase3_2gen_centreB=r,m.phase3_2gen_centre=M(e,r)}var te;function Ge(){if(te)return te;se();const e=m.phase3_2gen_centreA,r=Y(),t=e[0].length,n=r[0].length,a=t*n,l=25,i=U.map(f=>f.length),_=new Int8Array(a).fill(l),o=W(X);_[o[0]%t+t*o[1]]=0;let c=0,p=!1;for(;!p&&c<l-1;){p=!0;let f=Array(T).fill().map((d,v)=>v).filter(d=>i[d]+c<l);f.sort((d,v)=>i[d]-i[v]);let u=w(i,f),s=w(e,f),h=w(r,f),g=f.length;for(let d=_.indexOf(c);d!==-1;d=_.indexOf(c,d+1)){let v=d%t,y=d/t|0;for(let b=0;b<g;b++){let D=u[b],Ke=s[b][v],Pe=h[b][y],he=Ke+t*Pe;_[he]>c+D&&(p=!1,_[he]=c+D)}}c++}return te=_}var re;function Je(){if(re)return re;const e=Y().slice(0,2),r=W(X);return re=Ie(e,r[1],r[1])}function le(e,r=W(e)){let[t,n]=r,a=t%210,l=Math.floor(t/210);se();let i=m.phase3_2gen_centreA,_=m.phase3_2gen_centreB,o=Y(),c=Ge(),p=Je(),f=0;for(;;){let u=pe(a,l,n,i,_,o,c,p,f);for(let s of u)return s.map(h=>U[h]).flat();f++}}function be(e,r=W(e)){let[t,n]=r,a=t%210,l=Math.floor(t/210);se();let i=m.phase3_2gen_centreA,_=m.phase3_2gen_centreB,o=Y(),c=Ge(),p=Je(),f=le(e).length,u=1/0,s;for(let h=f;h<=f+0;h++){let g=pe(a,l,n,i,_,o,c,p,h);for(let d of g){let v=d.map(D=>U[D]).flat(),y=K(v),b=ae(y);b<u&&(u=b,s=y)}}return s}function Et(e){return(e-1)*(e-2)/2}function ae(e){let r=Oe(e,!0).replace(/'/g,"").split(" ");return e.length+Tt(r).map(Et).reduce((t,n)=>t+n,0)}function Tt(e){if(e.length<3)return[];let r=e.length,t=[];for(let l=0;l<r-2;l++)t[l]=e[l]===e[l+2];t.push(!1);let n=-1,a=[];for(;n<r-2&&(n=t.indexOf(!0,n+1),n!==-1);){let l=t.indexOf(!1,n+1);a.push(l-n),n=l}return a}function*pe(e,r,t,n,a,l,i,_,o,c=-1){let p=i[e+210*t],f=i[r+210*_[t]],u=Math.max(p,f);if(!(u>o)){if(o===0){yield[];return}if(u!==0)for(let s=0;s<T;s++){if(s===c&&Mt[s]<=3)continue;let h=n[s][e],g=a[s][r],d=l[s][t],v=o-U[s].length;if(v<0)continue;let y=pe(h,g,d,n,a,l,i,_,v,s);for(;;){let{value:b,done:D}=y.next();if(D)break;yield[s].concat(b)}}}}function $t(e,r=200,t=24){let n=P(e),a=w(e,x).map(_=>_^1),l=P(a),i=Array(1e3);for(let _=0;_<r;_++){{let{value:o,done:c}=n.next();if(!c){let p=O(e,o),f=o.concat(le(p));if(f.length<=t)return f;f.length<i.length&&(i=f)}}{let{value:o,done:c}=l.next();if(!c){let p=O(a,o),f=o.concat(le(p)).map(([u,s])=>[u^2,s]);if(f.length<=t)return f;f.length<i.length&&(i=f)}}}return i}function Ht(e,r=20,t=30){let n=P(e),a=w(e,x).map(o=>o^1),l=P(a),i,_=1/0;for(let o=0;o<r;o++){{let{value:c,done:p}=n.next();if(!p){let f=O(e,c),u=K(c.concat(be(f))),s=ae(u);if(s<=t)return u;s<_&&(i=u,_=s)}}{let{value:c,done:p}=l.next();if(!p){let f=O(a,c),u=K(c.concat(be(f)));u=u.map(([h,g])=>[h^2,g]);let s=ae(u);if(s<=t)return u;s<_&&(i=u,_=s)}}}return i}function Xt(){return mt()}export{Xt as randomFTOScrambleString};
