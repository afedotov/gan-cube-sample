import{a as z}from"./inside-KOB7JHHP-MQbaLpa6.js";import"../search-worker-entry-CQUcisg8.js";function Y(r,e){r.ul=e.ul,r.ur=e.ur,r.dl=e.dl,r.dr=e.dr,r.ml=e.ml}function H(r,e){var a;e<<=2,e>24?(e=48-e,a=r.ul,r.ul=(~~r.ul>>e|r.ur<<24-e)&16777215,r.ur=(~~r.ur>>e|a<<24-e)&16777215):e>0?(a=r.ul,r.ul=(r.ul<<e|~~r.ur>>24-e)&16777215,r.ur=(r.ur<<e|~~a>>24-e)&16777215):e===0?(a=r.ur,r.ur=r.dl,r.dl=a,r.ml=1-r.ml):e>=-24?(e=-e,a=r.dl,r.dl=(r.dl<<e|~~r.dr>>24-e)&16777215,r.dr=(r.dr<<e|~~a>>24-e)&16777215):e<-24&&(e=48+e,a=r.dl,r.dl=(~~r.dl>>e|r.dr<<24-e)&16777215,r.dr=(~~r.dr>>e|a<<24-e)&16777215)}function Z(r){var e,a,i,t,f;for(i=0,r.arr[0]=g(r,0),t=1;t<24;++t)g(r,t)!==r.arr[i]&&(r.arr[++i]=g(r,t));for(f=0,e=0;e<16;++e)for(a=e+1;a<16;++a)r.arr[e]>r.arr[a]&&(f^=1);return f}function x(r){var e,a,i,t;return t=r.ur&1118481,t|=~~t>>3,t|=~~t>>6,t=t&15|~~t>>12&48,i=r.ul&1118481,i|=~~i>>3,i|=~~i>>6,i=i&15|~~i>>12&48,a=r.dr&1118481,a|=~~a>>3,a|=~~a>>6,a=a&15|~~a>>12&48,e=r.dl&1118481,e|=~~e>>3,e|=~~e>>6,e=e&15|~~e>>12&48,M(Z(r)<<24|i<<18|t<<12|e<<6|a)}function b(r,e){var a,i;for(a=0;a<8;++a)r.prm[a]=~~(~~g(r,a*3+1)>>1<<24)>>24;for(e.cornperm=k(r.prm),e.topEdgeFirst=g(r,0)===g(r,1),a=e.topEdgeFirst?2:0,i=0;i<4;a+=3,++i)r.prm[i]=~~(~~g(r,a)>>1<<24)>>24;for(e.botEdgeFirst=g(r,12)===g(r,13),a=e.botEdgeFirst?14:12;i<8;a+=3,++i)r.prm[i]=~~(~~g(r,a)>>1<<24)>>24;e.edgeperm=k(r.prm),e.ml=r.ml}function g(r,e){var a;return e<6?a=~~r.ul>>(5-e<<2):e<12?a=~~r.ur>>(11-e<<2):e<18?a=~~r.dl>>(17-e<<2):a=~~r.dr>>(23-e<<2),~~((a&15)<<24)>>24}function E(r,e,a){e<6?(r.ul&=~(15<<(5-e<<2)),r.ul|=a<<(5-e<<2)):e<12?(r.ur&=~(15<<(11-e<<2)),r.ur|=a<<(11-e<<2)):e<18?(r.dl&=~(15<<(17-e<<2)),r.dl|=a<<(17-e<<2)):(r.dr&=~(15<<(23-e<<2)),r.dr|=a<<(23-e<<2))}function A(){this.arr=[],this.prm=[]}function j(){var r,e,a,i,t,f,n,u,v;for(r=new A,a=C[z(3678)],t=324508639,i=38177486,n=f=8,e=0;e<24;e++)a>>e&1?(u=z(n)<<2,E(r,23-e,t>>u&15),E(r,22-e,t>>u&15),v=(1<<u)-1,t=(t&v)+(t>>4&~v),--n,++e):(u=z(f)<<2,E(r,23-e,i>>u&15),v=(1<<u)-1,i=(i&v)+(i>>4&~v),--f);return r.ml=z(2),r}function rr(){}var p=A.prototype=rr.prototype;p.dl=10062778;p.dr=14536702;p.ml=0;p.ul=70195;p.ur=4544119;function er(r){var e,a,i,t,f,n;for(Y(r.Search_d,r.Search_c),i=0;i<r.Search_length1;++i)H(r.Search_d,r.Search_move[i]);for(b(r.Search_d,r.Search_sq),a=r.Search_sq.edgeperm,e=r.Search_sq.cornperm,f=r.Search_sq.ml,n=Math.max(l[r.Search_sq.edgeperm<<1|f],l[r.Search_sq.cornperm<<1|f]),i=n;i<r.Search_maxlen2;++i)if(G(r,a,e,r.Search_sq.topEdgeFirst,r.Search_sq.botEdgeFirst,f,i,r.Search_length1,0)){for(t=0;t<i;++t)H(r.Search_d,r.Search_move[r.Search_length1+t]);return r.Search_sol_string=ar(r,i+r.Search_length1),!0}return!1}function ar(r,e){for(var a="",i=0,t=0,f=e-1;f>=0;f--){var n=r.Search_move[f];n>0?(n=12-n,i=n>6?n-12:n):n<0?(n=12+n,t=n>6?n-12:n):(i===0&&t===0?a+=" / ":a+=`(${i}, ${t}) / `,i=t=0)}return(i!==0||t!==0)&&(a+=`(${i}, ${t})`),a}function B(r,e,a,i,t,f){var n,u,v;if(a===0&&i<4)return i===0&&er(r);if(f!==0&&(v=R[e],u=s[v],u<i&&(r.Search_move[t]=0,B(r,v,u,i-1,t+1,0))))return!0;if(v=e,f<=0){for(n=0;n+=I[v],v=~~n>>4,n&=15,!(n>=12||(u=s[v],u>i));)if(u<i&&(r.Search_move[t]=n,B(r,v,u,i-1,t+1,1)))return!0}if(v=e,f<=1){for(n=0;n+=$[v],v=~~n>>4,n&=15,!(n>=6||(u=s[v],u>i));)if(u<i&&(r.Search_move[t]=-n,B(r,v,u,i-1,t+1,2)))return!0}return!1}function G(r,e,a,i,t,f,n,u,v){var h,_,c,S,o,m,d;if(n===0&&!i&&t||v!==0&&i===t&&(c=T[e],_=T[a],l[c<<1|1-f]<n&&l[_<<1|1-f]<n&&(r.Search_move[u]=0,G(r,c,_,i,t,1-f,n-1,u+1,0))))return!0;if(v<=0)for(d=!i,c=d?y[e]:e,_=d?a:y[a],S=d?1:2,o=l[c<<1|f],m=l[_<<1|f];S<12&&o<=n&&o<=n;){if(o<n&&m<n&&(r.Search_move[u]=S,G(r,c,_,d,t,f,n-1,u+1,1)))return!0;d=!d,d?(c=y[c],o=l[c<<1|f],S+=1):(_=y[_],m=l[_<<1|f],S+=2)}if(v<=1)for(h=!t,c=h?w[e]:e,_=h?a:w[a],S=h?1:2,o=l[c<<1|f],m=l[_<<1|f];S<(n>3?6:12)&&o<=n&&o<=n;){if(o<n&&m<n&&(r.Search_move[u]=-S,G(r,c,_,i,h,f,n-1,u+1,2)))return!0;h=!h,h?(c=w[c],o=l[c<<1|f],S+=1):(_=w[_],m=l[_<<1|f],S+=2)}return!1}function tr(r,e){var a;for(r.Search_c=e,a=x(e),r.Search_length1=s[a];r.Search_length1<100&&(r.Search_maxlen2=Math.min(31-r.Search_length1,17),!B(r,a,s[a],r.Search_length1,0,-1));++r.Search_length1);return r.Search_sol_string}function N(){this.Search_move=[],this.Search_d=new A,this.Search_sq=new Q}function nr(){}p=N.prototype=nr.prototype;p.Search_c=null;p.Search_length1=0;p.Search_maxlen2=0;p.Search_sol_string=null;var J=!1;function ir(){J||(J=!0,P=[0,3,6,12,15,24,27,30,48,51,54,60,63],C=[],s=[],I=[],$=[],R=[],cr())}function ur(r){var e,a;e=0,a=0;do r.bottom&2048?(e+=2,r.bottom=r.bottom<<2^12291):(e+=1,r.bottom=r.bottom<<1),a=1-a;while(F(r.bottom&63)&1);return!(F(r.bottom)&2)&&(r.Shape_parity^=a),e}function V(r){var e;return e=X(C,r.top<<12|r.bottom)<<1|r.Shape_parity,e}function D(r,e){r.Shape_parity=e&1,r.top=C[~~e>>1],r.bottom=r.top&4095,r.top>>=12}function fr(r){var e,a;e=0,a=0;do r.top&2048?(e+=2,r.top=r.top<<2^12291):(e+=1,r.top=r.top<<1),a=1-a;while(F(r.top&63)&1);return!(F(r.top)&2)&&(r.Shape_parity^=a),e}function O(){}function M(r){var e;return e=X(C,r&16777215)<<1|~~r>>24,e}function cr(){var r,e,a,i,t,f,n,u,v,h,_,c,S,o,m,d;for(r=0,n=0;n<28561;++n)f=P[n%13],a=P[~~(n/13)%13],c=P[~~(~~(n/13)/13)%13],_=P[~~(~~(~~(n/13)/13)/13)],S=_<<18|c<<12|a<<6|f,F(S)===16&&(C[r++]=S);for(h=new O,n=0;n<7356;++n)D(h,n),I[n]=fr(h),I[n]|=V(h)<<4,D(h,n),$[n]=ur(h),$[n]|=V(h)<<4,D(h,n),d=h.top&63,o=F(d),m=F(h.bottom&4032),h.Shape_parity^=1&~~(o&m)>>1,h.top=h.top&4032|~~h.bottom>>6&63,h.bottom=h.bottom&63|d<<6,R[n]=V(h);for(n=0;n<7536;++n)s[n]=-1;for(s[M(14378715)]=0,s[M(31157686)]=0,s[M(23967451)]=0,s[M(7191990)]=0,i=4,t=0,e=-1;i!==t;)for(t=i,++e,n=0;n<7536;++n)if(s[n]===e){v=0,u=n;do u=I[u],v+=u&15,u>>=4,s[u]===-1&&(++i,s[u]=e+1);while(v!==12);v=0,u=n;do u=$[u],v+=u&15,u>>=4,s[u]===-1&&(++i,s[u]=e+1);while(v!==12);u=R[n],s[u]===-1&&(++i,s[u]=e+1)}}function vr(){}p=O.prototype=vr.prototype;p.bottom=0;p.Shape_parity=0;p.top=0;var $,C,s,I,R,P,K=!1;function hr(){if(!K){K=!0,l=[],T=[],y=[],w=[],W=[1,1,2,6,24,120,720,5040],q=[];for(var r=0;r<12;++r)q[r]=[];_r()}}function Q(){}function k(r){var e,a,i,t;for(a=0,t=1985229328,e=0;e<7;++e)i=r[e]<<2,a=(8-e)*a+(~~t>>i&7),t-=286331152<<i;return a&65535}function _r(){var r,e,a,i,t,f,n,u,v,h,_,c,S;for(t=0;t<12;++t)for(q[t][0]=1,q[t][t]=1,v=1;v<t;++v)q[t][v]=q[t-1][v-1]+q[t-1][v];for(c=[],t=0;t<40320;++t)L(c,t),S=c[2],c[2]=c[4],c[4]=S,S=c[3],c[3]=c[5],c[5]=S,T[t]=k(c),L(c,t),S=c[0],c[0]=c[1],c[1]=c[2],c[2]=c[3],c[3]=S,y[t]=k(c),L(c,t),S=c[4],c[4]=c[5],c[5]=c[6],c[6]=c[7],c[7]=S,w[t]=k(c);for(t=0;t<80640;++t)l[t]=-1;for(l[0]=0,e=0,a=1;a<80640;){u=e>=11,i=u?-1:e,r=u?e:-1,++e;r:for(t=0;t<80640;++t)if(l[t]===i){if(f=~~t>>1,_=t&1,n=T[f]<<1|1-_,l[n]===r&&(++a,l[u?t:n]=~~(e<<24)>>24,u))continue r;for(n=f,h=0;h<4;++h)if(n=y[n],l[n<<1|_]===r&&(++a,l[u?t:n<<1|_]=~~(e<<24)>>24,u))continue r;for(h=0;h<4;++h)if(n=w[n],l[n<<1|_]===r&&(++a,l[u?t:n<<1|_]=~~(e<<24)>>24,u))continue r}}}function L(r,e){var a,i,t,f,n;for(n=1985229328,a=0;a<7;++a)t=W[7-a],f=~~(e/t),e-=f*t,f<<=2,r[a]=~~((~~n>>f&7)<<24)>>24,i=(1<<f)-1,n=(n&i)+(~~n>>4&~i);r[7]=~~(n<<24)>>24}function Sr(){}p=Q.prototype=Sr.prototype;p.botEdgeFirst=!1;p.cornperm=0;p.edgeperm=0;p.ml=0;p.topEdgeFirst=!1;var w,q,l,y,T,W;function F(r){return r-=~~r>>1&1431655765,r=(~~r>>2&858993459)+(r&858993459),r=(~~r>>4)+r&252645135,r+=~~r>>8,r+=~~r>>16,r&63}function X(r,e){var a,i,t,f;for(i=0,a=r.length-1;i<=a;)if(t=i+(~~(a-i)>>1),f=r[t],f<e)i=t+1;else if(f>e)a=t-1;else return t;return-i-1}var U=!1,lr=function(r,e,a){U||(ir(),hr()),a&&a("Done initializing Square-1."),U=!0,r!=null&&r()},pr=function(){return U||lr(),j()},sr=function(r){var e=new N;return tr(e,r)},or=function(){var r=pr(),e=sr(r);return{pattern:r,scramble_string:e}};function mr(){return or().scramble_string}export{mr as getRandomSquare1ScrambleString};
